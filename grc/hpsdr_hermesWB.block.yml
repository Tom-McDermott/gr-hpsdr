# auto-generated by grc.converter

id: hpsdr_hermesWB
label: hermesWB
category: '[HPSDR]'
flags:
- throttle

templates:
  imports: from gnuradio import hpsdr
  make: hpsdr.hermesWB(${RxPre}, ${Intfc}, ${ClkS}, ${AlexRA}, ${AlexTA}, ${AlexHPF}, ${AlexLPF}, ${MACAddr})

#  Make one 'parameters' list entry for every parameter you want settable from the GUI.
#     Keys include:
#     * id (makes the value accessible as keyname, e.g. in the make entry)
#     * label (label shown in the GUI)
#     * dtype (e.g. int, float, complex, byte, short, xxx_vector, ...)
#     * default
parameters:
-   id: RxPre
    label: Rx Preamp Off/On
    dtype: int
    default: '0'
-   id: Intfc
    label: Ethernet Interface
    dtype: raw
    default: '"enp1s0"'
-   id: CkS
    label: HPSDR Clock Source
    dtype: raw
    default: '"0xF8"'
-   id: AlexTA
    label: Alex Tx Antenna
    dtype: enum
    default: '0'
    options: ['0', '1', '2']
    option_labels: [Tx1, Tx2, Tx3]
-   id: AlexRA
    label: Alex Rx Antenna
    dtype: enum
    default: '0'
    options: ['0', '0xa0', '0xc0', '0xe0']
    option_labels: [Tx Ant via T/R Relay, Rx1, Rx2, RxXvrtr]
-   id: AlexHPF
    label: Alex Rx HPF
    dtype: enum
    default: '0x20'
    options: ['0x20', '0x10', '0x08', '0x04', '0x01', '0x02', '0x40']
    option_labels: [Bypass, 1.5 MHz HPF, 6.5 MHz HPF, 9.5 MHz HPF, 13 MHz HPF, 20
            MHz HPF, 6M LNA+LPF]
-   id: AlexLPF
    label: Alex Tx LPF
    dtype: enum
    default: '0x10'
    options: ['0x08', '0x04', '0x02', '0x01', '0x40', '0x20', '0x10']
    option_labels: [160m LPF, 80m LPF, 60/40m LPF, 30/20m LPF, 17/15m LPF, 12/10m
            LPF, 6m LPF]
-   id: MACAddr
    label: MAC Address or *
    dtype: string
    default: '"*"'

outputs:
#  Keys include:
#      * label (an identifier for the GUI)
#      * domain (optional - stream or message. Default is stream)
#      * dtype (e.g. int, float, complex, byte, short, xxx_vector, ...)
#      * vlen (optional - data stream vector length. Default is 1)
#      * optional (optional - set to 1 for optional inputs. Default is 0)
-   domain: stream
    dtype: float
    vlen: 16384

templates:
    imports: import hpsdr
    make: hpsdr.hermesWB(${RxPre}, ${Intfc}, ${CkS}, ${AlexRA}, ${AlexTA}, ${AlexHPF},
        ${AlexLPF}, ${MACAddr})
    callbacks:
    - set_RxPreamp(${RxPre})
    - set_ClockSource(${CkS})
    - set_AlexRxAntenna(${AlexRA})
    - set_AlexTxAntenna(${AlexTA})
    - set_AlexRxHPF(${AlexHPF})
    - set_AlexTxLPF(${AlexLPF})

documentation: |-
    This block is the HPSDR Hermes/Metis wideband module.
      It supports one wideband sampled receiver which outputs a vector
      of 16384 time-contiguous real float samples sampled at 122.88 MHz.
      Consecutive vectors ARE NOT time contiguous. The update rate is a
      few vectors per second.
      *RxPreamp = 0 (Off), or  1 (On)
      *Interface = the ethernet interface to use.
        Example: "eth0" {including quote marks}.
      *Clock Source = HPSDR Clock Selector - 1 byte-> assigned to one register.
      byte->C1 when C0 = 0. Allows selection of clock and mic sources. Only upper
      6 bits are used (lower 2 bits are overwritten by receive sample speed
      selection. Hermes ignores this register. Default value selects Mercury.
        Example: "0xfc" {including quote marks}
      *Alex Tx Ant = selects transmit antenna (Tx1, Tx2, or Tx3).
      *Alex Rx ant = selects receive antenna connector, or Tx antenna via T/R relay.
      *Alex Tx LPF = selects Low Pass Filter.
      *Alex Rx HPF = selects receive High Pass Filter.
      *MACAddr = "HH:HH:HH:HH:HH:HH" with HH being the MAC Address hex values, or "*" to
        select the first detected Metis/Hermes regardless of it's MAC Address.
        MACAddr is a string (and must be enclosed in quotes).

file_format: 1
